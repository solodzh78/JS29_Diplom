(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r,n,i,o,a,l,c,s,u,d,f,v,y,p,m,h,g,b,L,_,E,S,w,q,k,A,C,x,I,j,O;j=document.querySelector(".header-contacts__phone-number-accord"),(O=document.querySelector(".header-contacts__arrow")).addEventListener("click",(function(){j.style.top?(j.style.top="",j.firstChild.style.opacity="",O.style.transform=""):(j.style.top="30px",j.firstChild.style.opacity="1",O.style.transform="rotate(-0.5turn)")})),E=document.querySelector(".popup-menu"),S=document.querySelector(".popup-dialog-menu"),w=document.querySelector(".menu__icon"),q=document.querySelector(".button-footer"),k=document.querySelector(".popup-repair-types"),A=document.querySelector(".__full-price1"),C=function(){S.classList.toggle("showHide-menu"),"visible"===E.style.visibility?E.style.visibility="hidden":E.style.visibility="visible"},x=function(e){var t=e.target;e.preventDefault(),document.querySelector(t.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start"})},I=function(e){e.preventDefault(),k.style.visibility="visible",k.addEventListener("click",(function(e){var t=e.target;!t.classList.contains("close")&&t.closest(".popup-dialog")||(k.style.visibility="hidden")}))},E.addEventListener("click",(function(e){var t=e.target;t.classList.contains("__full-price")?I(e):t.classList.contains("menu-link")&&x(e),(t.classList.contains("close-menu")||t.classList.contains("menu-link")||t.classList.contains("__full-price")||!t.closest(".popup-dialog-menu"))&&C()})),w.addEventListener("click",C),q.addEventListener("click",x),A.addEventListener("click",I),document.querySelectorAll('[name="phone"]').forEach((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__";function r(e){var r=e.keyCode,n=t,i=n.replace(/\D/g,""),o=this.value.replace(/\D/g,""),a=0,l=n.replace(/[_\d]/g,(function(e){return a<o.length?o.charAt(a++)||i.charAt(a):e}));-1!==(a=l.indexOf("_"))&&(l=l.slice(0,a));var c=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=l),"blur"===e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",r),e.addEventListener("focus",r),e.addEventListener("blur",r)}(e)})),b=document.querySelectorAll("form"),L=document.querySelector(".popup-privacy"),_=function(){L.style.visibility="visible"},b.forEach((function(t){var r,n,i,o;n=(r=t).querySelector(".checkbox__input"),i=r.querySelector(".link-privacy"),(o=r.querySelector('[name="name"]')||0)&&(o.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^А-Яа-яёЁ ]/g,"")})),o.addEventListener("blur",(function(e){e.target.value=e.target.value.replace(/^-+|^ +|-+$| +$|[^А-Яа-яёЁ -]/g,""),e.target.value=e.target.value.replace(/--+/g,"-"),e.target.value=e.target.value.replace(/ +/g," "),e.target.value&&(e.target.value=e.target.value.split(" ").reduce((function(e,t){return t.length>1?e+" "+(t[0].toUpperCase()+t.slice(1).toLowerCase()):e}),""))}))),r.addEventListener("submit",(function(t){if(t.preventDefault(),n.checked){var i,o={},a=function(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}(new FormData(r).entries());try{for(a.s();!(i=a.n()).done;){var l=i.value;o[l[0]]=l[1]}}catch(e){a.e(e)}finally{a.f()}(function(e){return fetch("./server.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})})(o).then((function(e){if(200!==e.status)throw new Error("Status network not 200")})).catch((function(e){console.error(e)}))}})),i.addEventListener("click",_)})),L.addEventListener("click",(function(e){var t=e.target;!t.classList.contains("close")&&t.closest(".popup-dialog-privacy")||(L.style.visibility="hidden")})),document.getElementById("formula").querySelectorAll(".formula-item__icon").forEach((function(e){var t,r;e.closest(".mobile-hide")?r=(t=e).firstElementChild:(t=e.parentElement,r=t.firstElementChild.firstElementChild),t.addEventListener("mouseenter",(function(){var e=20+r.getBoundingClientRect().bottom-r.getBoundingClientRect().top;t.getBoundingClientRect().top<e&&(r.classList.add("formula-item-popup-reverse"),r.style.bottom=0-e+"px"),r.style.visibility="visible",r.style.opacity=1})),t.addEventListener("mouseleave",(function(){e.firstElementChild.classList.remove("formula-item-popup-reverse"),r.style.bottom="90px",r.style.visibility="hidden",r.style.opacity=.1}))})),n=document.getElementById("repair-types"),i=document.querySelectorAll(".repair-types-nav__item"),o=n.querySelectorAll(".repair-types-slider > div"),a=0,l=0,c=n.querySelector(".slider-arrow_right"),s=n.querySelector(".slider-arrow_left"),u=n.querySelector("#nav-arrow-repair-right_base"),d=n.querySelector("#nav-arrow-repair-left_base"),f=document.querySelector(".slider-counter-content__current"),v=document.querySelector(".slider-counter-content__total"),y=function(){o.forEach((function(e,t){t===a?e.classList.remove("hide"):e.classList.add("hide")}))},p=function(){r=o[a].children.length,v.textContent=r,f.textContent=l+1},m=function(){var e;(e=o[a].children,function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){t===l?e.classList.remove("hide"):e.classList.add("hide")}))},h=function(e){if(e.target.closest("#repair-types-arrow_right")){if(!(l<r-1))return;l++}else{if(!(l>0))return;l--}m(),p()},g=function(e){if(e.target.closest("#nav-arrow-repair-right_base")){if(!(a<i.length-1))return;a++}else{if(!(a>0))return;a--}n.querySelector(".nav-list-repair").style.transform="translate(-".concat(i[a].offsetLeft,"px)"),i.forEach((function(e){return e.classList.remove("active")})),i[a].classList.add("active"),l=0,y(),m(),p()},i.forEach((function(e,t){e.addEventListener("click",(function(){i[a].classList.remove("active"),e.classList.add("active"),a=t,l=0,y(),p()}))})),c.addEventListener("click",h),s.addEventListener("click",h),u.addEventListener("click",g),d.addEventListener("click",g),window.addEventListener("resize",(function(){window.innerWidth>1024&&(n.querySelector(".nav-list-repair").style.transform="")})),p()})();