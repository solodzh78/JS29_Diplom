(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r,n,i,o,l,c,a,s,u,d,p,f,v,y,m,h,g,E,_,b,w,L,S,q,k,A,x,C,I,W,B,P,V;P=document.querySelector(".header-contacts__phone-number-accord"),(V=document.querySelector(".header-contacts__arrow")).addEventListener("click",(function(){P.style.top?(P.style.top="",P.firstChild.style.opacity="",V.style.transform=""):(P.style.top="30px",P.firstChild.style.opacity="1",V.style.transform="rotate(-0.5turn)")})),S=document.querySelector(".popup-menu"),q=document.querySelector(".popup-dialog-menu"),k=document.querySelector(".menu__icon"),A=document.querySelector(".button-footer"),x=document.querySelector(".popup-repair-types"),C=document.querySelectorAll(".link-list-repair"),I=function(){q.classList.toggle("showHide-menu"),"visible"===S.style.visibility?S.style.visibility="hidden":S.style.visibility="visible"},W=function(e){var t=e.target;e.preventDefault(),document.querySelector(t.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start"})},B=function(e){e.preventDefault(),x.style.visibility="visible",x.addEventListener("click",(function(e){var t=e.target;!t.classList.contains("close")&&t.closest(".popup-dialog")||(x.style.visibility="hidden")}))},S.addEventListener("click",(function(e){var t=e.target;t.classList.contains("__full-price")?B(e):t.classList.contains("menu-link")&&W(e),(t.classList.contains("close-menu")||t.classList.contains("menu-link")||t.classList.contains("__full-price")||!t.closest(".popup-dialog-menu"))&&I()})),k.addEventListener("click",I),A.addEventListener("click",W),C.forEach((function(e){e.addEventListener("click",B)})),document.querySelectorAll('[name="phone"]').forEach((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__";function r(e){var r=e.keyCode,n=t,i=n.replace(/\D/g,""),o=this.value.replace(/\D/g,""),l=0,c=n.replace(/[_\d]/g,(function(e){return l<o.length?o.charAt(l++)||i.charAt(l):e}));-1!==(l=c.indexOf("_"))&&(c=c.slice(0,l));var a=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(a=new RegExp("^"+a+"$")).test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",r),e.addEventListener("focus",r),e.addEventListener("blur",r)}(e)})),function(){var t=document.querySelectorAll("form"),r=document.querySelector(".popup-privacy"),n=document.querySelector(".popup-thank"),i=function(){r.style.visibility="visible"};n.addEventListener("click",(function(e){var t=e.target;!t.closest(".close")&&t.closest(".popup-thank-bg")||(n.style.visibility="hidden")}));var o=function(t){var r=t.querySelector(".checkbox__input"),o=t.querySelector(".link-privacy"),l=t.querySelector('[name="name"]')||0;l&&(l.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^А-Яа-яёЁ ]/g,"")})),l.addEventListener("blur",(function(e){e.target.value=e.target.value.replace(/^-+|^ +|-+$| +$|[^А-Яа-яёЁ -]/g,""),e.target.value=e.target.value.replace(/--+/g,"-"),e.target.value=e.target.value.replace(/ +/g," "),e.target.value&&(e.target.value=e.target.value.split(" ").reduce((function(e,t){return t.length>1?e+" "+(t[0].toUpperCase()+t.slice(1).toLowerCase()):e}),""))}))),t.addEventListener("submit",(function(i){if(i.preventDefault(),r.checked){var o,l={},c=function(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw l}}}}(new FormData(t).entries());try{for(c.s();!(o=c.n()).done;){var a=o.value;l[a[0]]=a[1]}}catch(e){c.e(e)}finally{c.f()}(function(e){return fetch("./server.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})})(l).then((function(e){if(200!==e.status)throw new Error("Status network not 200");n.style.visibility="visible"})).catch((function(e){console.error(e)}))}})),o.addEventListener("click",i)};t.forEach((function(e){o(e)})),r.addEventListener("click",(function(e){var t=e.target;!t.classList.contains("close")&&t.closest(".popup-dialog-privacy")||(r.style.visibility="hidden")}))}(),document.getElementById("formula").querySelectorAll(".formula-item__icon").forEach((function(e){var t,r;e.closest(".mobile-hide")?r=(t=e).firstElementChild:(t=e.parentElement,r=t.firstElementChild.firstElementChild),t.addEventListener("mouseenter",(function(){var e=20+r.getBoundingClientRect().bottom-r.getBoundingClientRect().top;t.getBoundingClientRect().top<e&&(r.classList.add("formula-item-popup-reverse"),r.style.bottom=0-e+"px"),r.style.visibility="visible",r.style.opacity=1})),t.addEventListener("mouseleave",(function(){e.firstElementChild.classList.remove("formula-item-popup-reverse"),r.style.bottom="90px",r.style.visibility="hidden",r.style.opacity=.1}))})),a=document.getElementById("repair-types"),s=document.querySelectorAll(".repair-types-nav__item"),u=a.querySelectorAll(".repair-types-slider > div"),d=0,p=0,f=a.querySelector(".slider-arrow_right"),v=a.querySelector(".slider-arrow_left"),y=a.querySelector("#nav-arrow-repair-right_base"),m=a.querySelector("#nav-arrow-repair-left_base"),h=document.querySelector(".slider-counter-content__current"),g=document.querySelector(".slider-counter-content__total"),E=function(){u.forEach((function(e,t){t===d?e.classList.remove("hide"):e.classList.add("hide")}))},_=function(){c=u[d].children.length,g.textContent=c,h.textContent=p+1},b=function(){var e;(e=u[d].children,function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){t===p?e.classList.remove("hide"):e.classList.add("hide")}))},w=function(e){if(e.target.closest("#repair-types-arrow_right")){if(!(p<c-1))return;p++}else{if(!(p>0))return;p--}b(),_()},L=function(e){if(e.target.closest("#nav-arrow-repair-right_base")){if(!(d<s.length-1))return;d++}else{if(!(d>0))return;d--}a.querySelector(".nav-list-repair").style.transform="translate(-".concat(s[d].offsetLeft,"px)"),s.forEach((function(e){return e.classList.remove("active")})),s[d].classList.add("active"),p=0,E(),b(),_()},s.forEach((function(e,t){e.addEventListener("click",(function(){s[d].classList.remove("active"),e.classList.add("active"),d=t,p=0,E(),_()}))})),f.addEventListener("click",w),v.addEventListener("click",w),y.addEventListener("click",L),m.addEventListener("click",L),window.addEventListener("resize",(function(){window.innerWidth>1024&&(a.querySelector(".nav-list-repair").style.transform="")})),_(),function(){var e=document.querySelector(".popup-portfolio"),t=document.querySelector(".portfolio-slider"),r=document.querySelector(".portfolio-slider-mobile"),n=e.querySelectorAll(".popup-portfolio-text");t.querySelectorAll(".portfolio-slider__slide-frame").forEach((function(e,t){e.num=t})),new Swiper(".portfolio-slider",{slidesPerView:1,breakpoints:{575:{slidesPerView:1},900:{slidesPerView:2},1140:{slidesPerView:3}},navigation:{nextEl:".slider-arrow_right-portfolio",prevEl:".slider-arrow_left-portfolio"}});var i=new Swiper(".popup-portfolio-slider",{pagination:{el:"#swiper-pagination",type:"fraction",renderFraction:function(e,t){return'<div class="slider-counter-content__current '+e+'"></div><div class="slider-counter-content__total '+t+'"></div>'}},navigation:{nextEl:"#popup_portfolio_right",prevEl:"#popup_portfolio_left"}}),o=function(){n.forEach((function(e,t){i.activeIndex===t?e.classList.add("show"):e.classList.remove("show")}))},l=e.querySelector(".slider-counter-content__current");t.addEventListener("click",(function(t){e.style.visibility="visible",i.slideTo(t.target.num,!1,!1),o()})),l.addEventListener("DOMSubtreeModified",o),e.addEventListener("click",(function(t){var r=t.target;!r.closest(".close")&&r.closest(".popup-dialog-portfolio")||(e.style.visibility="hidden")})),new Swiper(".portfolio-slider-mobile",{pagination:{el:".swiper-pagination",type:"fraction",renderFraction:function(e,t){return'<div class="slider-counter-content__current '+e+'"></div><div class="slider-counter-content__total '+t+'"></div>'}},navigation:{nextEl:"#portfolio-arrow-mobile_right",prevEl:"#portfolio-arrow-mobile_left"}}),r.addEventListener("click",(function(){e.style.visibility="visible";var t=document.querySelector("#portfolio-counter > div > div.slider-counter-content__current").textContent;i.slideTo(t-1,!1,!1),o()}))}(),function(){new Swiper(".transparency-slider",{slidesPerView:1,spaceBetween:50,breakpoints:{1140:{slidesPerView:3}},navigation:{nextEl:"#transparency-arrow_right",prevEl:"#transparency-arrow_left"}});var e=new Swiper(".popup-transparency-slider",{pagination:{el:"#transparency-popup-counter-content",type:"fraction",renderFraction:function(e,t){return'<div class="slider-counter-content__current '+e+'"></div><div class="slider-counter-content__total '+t+'"></div>'}},slidesPerView:1,navigation:{nextEl:"#transparency_right",prevEl:"#transparency_left"}}),t=document.querySelectorAll(".transparency-item__img"),r=document.querySelector(".popup-transparency");t.forEach((function(e,t){e.num=t}));var n=function(t){r.style.visibility="visible",e.slideTo(t.target.num,!1,!1)};t.forEach((function(e){e.addEventListener("click",n)})),r.addEventListener("click",(function(e){var t=e.target;!t.closest(".close")&&t.closest(".popup-dialog-transparency")||(r.style.visibility="hidden")}))}(),i=document.querySelectorAll(".button_wide"),o=document.querySelector(".popup-consultation"),l=function(){o.style.visibility="visible"},i.forEach((function(e){e.addEventListener("click",l)})),o.addEventListener("click",(function(e){var t=e.target;!t.closest(".close")&&t.closest(".feedback-wrap")||(o.style.visibility="hidden")})),new Swiper(".reviews-slider",{slidesPerView:1,navigation:{nextEl:"#reviews-arrow_right",prevEl:"#reviews-arrow_left"}}),r=document.querySelectorAll("#faq > div > div.accordion > ul > li"),n=function(e){e.target.classList.toggle("msg-active")},r.forEach((function(e){e.firstElementChild.addEventListener("click",n)})),function(){var e=document.querySelectorAll(".popup-repair-types-nav__item"),t=document.querySelectorAll(".popup-repair-types-content-table__list"),r=document.querySelector(".nav-list-popup-repair"),n=document.getElementById("nav-arrow-popup-repair_left"),i=document.getElementById("nav-arrow-popup-repair_right"),o=document.querySelector(".nav-wrap.nav-wrap-repair"),l=0,c=function(r){var n,i=r.target;n=i.num,e.forEach((function(e,t){n===t?e.classList.add("active"):e.classList.remove("active")})),t.forEach((function(e,t){n===t?e.classList.remove("hide"):e.classList.add("hide")})),document.getElementById("switch-inner").textContent=i.textContent,console.log(i.textContent)};t.forEach((function(e,t){e.num=t})),e.forEach((function(e,t){e.num=t,e.addEventListener("click",c)})),n.addEventListener("click",(function(){l>0&&(l--,r.style.transform="translate(-".concat(e[l].offsetLeft,"px)"))})),i.addEventListener("click",(function(){var t=function(){for(var t=0,r=l;r<e.length;r++)t+=e[r].offsetWidth;return t}();if(console.log("slidesWidth: ",t),console.log("WrapperWidth: ",o.offsetWidth),t>o.offsetWidth)if(t-o.offsetWidth>e[l].offsetWidth)l++,r.style.transform="translate(-".concat(e[l].offsetLeft,"px)");else{var n=e[l].offsetLeft+t-o.offsetWidth;r.style.transform="translate(-".concat(n,"px)"),l++}}))}()})();